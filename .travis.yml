branches:
 only:
  - develop
  - master

git:
 depth: 1

install:
 - mono src/.nuget/NuGet.exe restore src/Simplify.sln

language: csharp
solution: src/Simplify.sln

before_script:
 - chmod +x .ci/nunit.sh

script:
 - xbuild /p:Platform="Any CPU" /p:Configuration=Release src/Simplify.sln /tv:12.0
 - mono src/.nuget/NuGet.exe install NUnit.ConsoleRunner -Version 3.4.1 -o packages
 - mono packages/NUnit.ConsoleRunner.3.4.1/tools/nunit3-console.exe ./src/Simplify.Cryptography.Tests/bin/Release/Simplify.Cryptography.Tests.dll
